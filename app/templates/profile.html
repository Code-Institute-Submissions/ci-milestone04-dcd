{% extends "base.html" %}

{% block content %}

<div class="container">

    <!-- USER AVATAR -->
    <div class="center-align">
        <h2 class="purple-text purple lighten-5 font-fredericka">{{ username }}</h2>
        <img src="{{ url_for('static', filename='img/avatars/'+user_avatar+'.png') }}" alt="User Avatar" id="user-avatar" class="white">
        <h5 class="blue-text font-rye">{{ user_avatar|title }}</h5>
    </div>

    <div class="divider"></div>

    <!-- USER'S OWN RECIPES -->
    <ul class="collapsible" data-collapsible="accordion">
        <li class="recipe-card">
            <div class="collapsible-header profile-header purple white-text text-shadow-2">
                <i class="fas fa-user-plus material-icons"></i>
                <h5 class="bold font-amatic">My Desserts</h5>
            </div>

            <div class="collapsible-body collection collapsible-collection">
                <ul class="collection">
                    {% for user_recipe in user_recipes %}
                    <li class="collection-item avatar">
                        <a href="{{ url_for('view_dessert', recipe_id=user_recipe._id, slugUrl=user_recipe.recipe_slug) }}">
                            {% if user_recipe.img_src %}
                            <img src="{{ user_recipe.img_src }}" alt="Dessert Image" class="circle">
                            {% else %}
                            <img src="{{ url_for('static', filename='img/no-img.png') }}" alt="Dessert Image"
                                class="circle">
                            {% endif %}
                            <span class="title font-special bold purple-text">{{ user_recipe.recipe_name }}</span>
                            <p class="truncate pink-text text-lighten-2">{{ user_recipe.description }}</p>
                        </a>
                    </li>
                    {% else %}
                    <li class="collection-item avatar">
                        <span class="title font-special bold purple-text">
                            Good things come to those who share recipes.
                        </span>
                        <p class="purple-text bold">
                            You haven't shared anything yet. Click the icon on the right to add your first recipe.
                        </p>
                        <a href="{{ url_for('add_dessert') }}" title="Add a Recipe">
                            <i class="fas fa-plus-circle material-icons small purple-text text-shadow-1 secondary-content"></i>
                        </a>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </li>
    </ul>


    <!-- USER'S FAVORITE RECIPES -->
    <ul class="collapsible" data-collapsible="accordion">
        <li class="recipe-card">
            <div class="collapsible-header pink lighten-2 white-text text-shadow-2">
                <i class="fas fa-heart material-icons"></i>
                <h5 class="bold font-amatic">Saved Desserts</h5>
            </div>

            <div class="collapsible-body collection collapsible-collection">
                <ul class="collection">
                    {% for user_fav in user_favs %}
                    <li class="collection-item avatar">
                        <a href="{{ url_for('view_dessert', recipe_id=user_fav._id, slugUrl=user_fav.recipe_slug) }}">
                            {% if user_fav.img_src %}
                            <img src="{{ user_fav.img_src }}" alt="Dessert Image" class="circle">
                            {% else %}
                            <img src="{{ url_for('static', filename='img/no-img.png') }}" alt="Dessert Image"
                                class="circle">
                            {% endif %}
                            <span class="title font-special bold purple-text">{{ user_fav.recipe_name }}</span>
                            <p class="truncate pink-text text-lighten-2">{{ user_fav.description }}</p>
                            <i class="fas fa-heart material-icons pink-text text-lighten-2 text-shadow-1 secondary-content"></i>
                        </a>
                    </li>
                    {% else %}
                    <li class="collection-item avatar">
                        <span class="title font-special bold pink-text text-lighten-2">
                            Happiness rarely keeps company with an empty stomach.
                        </span>
                        <p class="pink-text text-lighten-2 bold">
                            Click the magnifying glass on the right to find something delicious!
                        </p>
                        <a href="{{ url_for('view_desserts') }}" title="View all Desserts">
                            <i class="fas fa-search-plus material-icons small pink-text text-lighten-2 purple lighten-5 secondary-content"></i>
                        </a>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </li>
    </ul>

</div>

{% endblock content %}